(()=>{"use strict";var t=function(t,n,r){return Math.acos((n*n+r*r-t*t)/(2*n*r))},n=function(t,n){return Math.sqrt(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2))},r=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},e=function(t,n){var r=(n[1]-t[1])/(n[0]-t[0]);return{m:r,c:t[1]-r*t[0],func:function(t){return this.m*t+this.c}}},o=function(t,n){if(void 0===t.m||void 0===n.m)throw"an arg is not a line equation";var r=(n.c-t.c)/(t.m-n.m);return[r,t.func(r)]},a=function(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=1.05,c=[t[0]+(a[0]-t[0])/2,t[1]+(n[1]-t[1])/2],f=function(t){return[u*(t[0]-c[0])+c[0],u*(t[1]-c[1])+c[1]]},l=f(t),s=f(n),h=f(r),y=f(a),v=y[0]-l[0],p=[l[0]-v,l[1]],d=[y[0]+v,y[1]],m=o(e(p,s),e(d,h));return i?[[p,m,d],[l,s,h,y]]:[p,m,d]};function i(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var e,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(e=r.next()).done)&&(a.push(e.value),!n||a.length!==n);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(t,n)||y(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=y(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function c(t,n,r){return c=f()?Reflect.construct:function(t,n,r){var e=[null];e.push.apply(e,n);var o=new(Function.bind.apply(t,e));return r&&l(o,r.prototype),o},c.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,n){return l=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},l(t,n)}function s(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function h(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,n){if(t){if("string"==typeof t)return v(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,n):void 0}}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var p=1e3,d=1e3,m=!0,b=[[100,100],[100,900],[900,900],[900,100]],g=b[3][0]-b[0][0],w=b[1][1]-b[0][1],M=h(Array(20).fill(0).map((function(t){return[r(b[0][0],g),r(b[0][1],w)]}))),A=function(){function r(e,o,a){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.a=e,this.b=o,this.c=a,this.edges=this.getEdges(),this.circumcenter=function(r,e,o){var a=n(r,e),i=n(r,o),u=n(e,o),c=t(u,a,i),f=t(i,u,a),l=Math.PI-(c+f),s=Math.sin(2*c),h=Math.sin(2*f),y=Math.sin(2*l),v=s+h+y;return[(r[0]*s+e[0]*h+o[0]*y)/v,(r[1]*s+e[1]*h+o[1]*y)/v]}(this.a,this.b,this.c),this.circumradius=function(t,r,e){var o=[n(t,r),n(t,e),n(r,e)];return(t=o[0])*(r=o[1])*(e=o[2])/Math.sqrt((t+r+e)*(r+e-t)*(e+t-r)*(t+r-e))}(this.a,this.b,this.c),this.color=[0,Math.min.apply(Math,h(this.points.map((function(t){return t[1]}))))/d*255,Math.min.apply(Math,h(this.points.map((function(t){return t[1]}))))/d*255]}var e,o,a;return e=r,(o=[{key:"getEdges",value:function(){return[[this.a,this.b],[this.b,this.c],[this.c,this.a]]}},{key:"points",get:function(){return[this.a,this.b,this.c]}}])&&s(e.prototype,o),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),r}(),k=function(t,r){var e=c(A,h(a.apply(void 0,h(r)))),o=[];o.push(e);var i,f=u(t);try{for(f.s();!(i=f.n()).done;){var l,s=i.value,y=[],v=u(o);try{for(v.s();!(l=v.n()).done;){var p=l.value;n(s,p.circumcenter)<p.circumradius&&y.push(p)}}catch(t){v.e(t)}finally{v.f()}for(var d=[],m=function(){var t,n=g[b],r=u(n.edges);try{var e=function(){var r=t.value;void 0===y.filter((function(t){return t!==n})).flatMap((function(t){return t.edges})).find((function(t){return e=r,(n=t)[0][0]===e[0][0]&&n[0][1]===e[0][1]&&n[1][0]===e[1][0]&&n[1][1]===e[1][1]||n[1][0]===e[0][0]&&n[1][1]===e[0][1]&&n[0][0]===e[1][0]&&n[0][1]===e[1][1];var n,e}))&&d.push(r)};for(r.s();!(t=r.n()).done;)e()}catch(t){r.e(t)}finally{r.f()}},b=0,g=y;b<g.length;b++)m();for(var w=function(){var t=k[M];o=o.filter((function(n){return n!==t}))},M=0,k=y;M<k.length;M++)w();for(var S=0,I=d;S<I.length;S++){var j=I[S],x=new A(j[0],j[1],s);o.push(x)}}}catch(t){f.e(t)}finally{f.f()}var E,O=u(o);try{var P=function(){var t=E.value;t.points.some((function(t){return e.points.includes(t)}))&&(o=o.filter((function(n){return n!==t})))};for(O.s();!(E=O.n()).done;)P()}catch(t){O.e(t)}finally{O.f()}return o};new p5((function(t){var e=M,o=Array(M.length).fill(0).map((function(t){return n=r(0,360)*(Math.PI/180),{unit:{x:Math.cos(n),y:Math.sin(n)},magnitude:r(1,3)};var n})),a=k(M,b),c=null;t.setup=function(){t.createCanvas(p,d),t.frameRate(60)},t.draw=function(){t.background(255),a=k(M,b),t.noFill(),t.stroke("red"),t.rect(100,100,g,w),function(){for(var t=0;t<M.length;t++){var n=M[t][0]+o[t].unit.x*o[t].magnitude,r=M[t][1]+o[t].unit.y*o[t].magnitude;(n<b[0][0]||n>b[3][0])&&(o[t].unit.x=-o[t].unit.x,n=M[t][0]+o[t].unit.x*o[t].magnitude),(r<b[0][1]||r>b[2][0])&&(o[t].unit.y=-o[t].unit.y,r=M[t][1]+o[t].unit.y*o[t].magnitude),M[t]=[n,r]}}(),t.strokeWeight(1),m||t.noFill();var n,r=u(a);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.stroke.apply(t,h(c.color)),m&&t.fill.apply(t,h(c.color)),t.triangle.apply(t,h(c.a).concat(h(c.b),h(c.c)))}}catch(t){r.e(t)}finally{r.f()}t.strokeWeight(10),t.stroke("black");var f,l=u(e);try{for(l.s();!(f=l.n()).done;){var s=i(f.value,2),y=s[0],v=s[1];t.point(y,v)}}catch(t){l.e(t)}finally{l.f()}},t.mousePressed=function(){for(var r=0;r<M.length;r++){var e=i(M[r],2),o=e[0],a=e[1];n([t.mouseX,t.mouseY],[o,a])<20&&(c=r)}},t.mouseDragged=function(){var r=i(M[c],2),e=r[0],o=r[1];n([t.mouseX,t.mouseY],[e,o])<20&&(M[c]=[t.mouseX,t.mouseY])}}),"canvas"),document.getElementById("toggle-fill").onchange=function(t){m=t.target.checked}})();
//# sourceMappingURL=index.1ba88be3ea9b99260177.js.map