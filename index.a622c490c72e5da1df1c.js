(()=>{"use strict";var t,n,r=function(t,n){return Math.sqrt(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2))},e=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},o=function(t){var n=/(?:[0-9]|[a-f]|[A-F]){6}/.exec(t);if(null===n)return null;var r=parseInt(n[0],16);return[r>>16&255,r>>8&255,255&r]},i=function(t,n,r,e){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=1.05,a=[t[0]+(e[0]-t[0])/2,t[1]+(n[1]-t[1])/2],u=function(t){return[i*(t[0]-a[0])+a[0],i*(t[1]-a[1])+a[1]]},l=u(t),c=u(n),f=u(r),s=u(e),h=s[0]-l[0],y=c[1]-l[1],v=[l[0]-h,l[1]],p=[s[0]+h,s[1]],d=[l[0]+h/2,c[1]+y/2];return o?[[v,d,p],[l,c,f,s]]:[v,d,p]},a=function(t){throw new Error(t)};function u(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(e=r.next()).done)&&(i.push(e.value),!n||i.length!==n);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(t,n)||v(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=v(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function c(t,n,r){return c=f()?Reflect.construct:function(t,n,r){var e=[null];e.push.apply(e,n);var o=new(Function.bind.apply(t,e));return r&&s(o,r.prototype),o},c.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function s(t,n){return s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},s(t,n)}function h(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function y(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,n){if(t){if("string"==typeof t)return p(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,n):void 0}}function p(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var d=new Proxy(new URLSearchParams(window.location.search),{get:function(t,n){return t.get(n)}}),m=null!==d.width?"max"===d.width?window.innerWidth:isNaN(+d.width)?a("incorrect width"):+d.width:1e3,g=null!==d.height?"max"===d.height?window.innerHeight:isNaN(+d.height)?a("incorrect height"):+d.height:1e3,b=null!==d.points?isNaN(+d.points)?a("points incorrect"):+d.points:20,w=null===d.verts||(isNaN(+d.verts)?a("incorrect verts"):1==+d.verts),A=null===d.move||(isNaN(+d.move)?a("incorrect move"):1==+d.move),N=null!==d.speed?isNaN(+d.speed)?a("speed incorrect"):+d.speed:10,M=null===d.fill||(isNaN(+d.fill)?a("incorrect fill"):1==+d.fill),x=null!==d.color1?null!==(t=o(d.color1))&&void 0!==t?t:a("incorrect color 1"):[0,32,0],S=null!==d.color2?null!==(n=o(d.color2))&&void 0!==n?n:a("incorrect color 2"):[0,255,0],k=[[0,0],[0,g],[m,g],[m,0]],I=k[3][0]-k[0][0],j=k[1][1]-k[0][1],P=y(Array(b).fill(0).map((function(t){return[e(k[0][0],I),e(k[0][1],j)]}))),E=function(){function t(n,r,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.a=n,this.b=r,this.c=e,this.edges=this.getEdges();var o,i,a,u,l,c,f,s,h,v,p=(o=this.a,i=this.b,a=this.c,u=[i[0]-o[0],i[1]-o[1]],l=[a[0]-o[0],a[1]-o[1]],c=2*(u[0]*l[1]-u[1]*l[0]),f=u[0]*u[0]+u[1]*u[1],s=l[0]*l[0]+l[1]*l[1],h=[(l[1]*f-u[1]*s)/c,(u[0]*s-l[0]*f)/c],v=Math.sqrt(h[0]*h[0]+h[1]*h[1]),{center:[h[0]+o[0],h[1]+o[1]],radius:v}),d=p.center,m=p.radius;this.circumcenter=d,this.circumradius=m,this.color=function(t,n,r){return[t[0]+(n[0]-t[0])*r,t[1]+(n[1]-t[1])*r,t[2]+(n[2]-t[2])*r]}(x,S,Math.min.apply(Math,y(this.points.map((function(t){return t[1]}))))/g)}var n,r,e;return n=t,(r=[{key:"getEdges",value:function(){return[[this.a,this.b],[this.b,this.c],[this.c,this.a]]}},{key:"points",get:function(){return[this.a,this.b,this.c]}}])&&h(n.prototype,r),e&&h(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),O=function(t,n){var e=c(E,y(i.apply(void 0,y(n)))),o=[];o.push(e);var a,u=l(t);try{for(u.s();!(a=u.n()).done;){var f,s=a.value,h=[],v=l(o);try{for(v.s();!(f=v.n()).done;){var p=f.value;r(s,p.circumcenter)<p.circumradius&&h.push(p)}}catch(t){v.e(t)}finally{v.f()}for(var d=[],m=function(){var t,n=b[g],r=l(n.edges);try{var e=function(){var r=t.value;void 0===h.filter((function(t){return t!==n})).flatMap((function(t){return t.edges})).find((function(t){return e=r,(n=t)[0][0]===e[0][0]&&n[0][1]===e[0][1]&&n[1][0]===e[1][0]&&n[1][1]===e[1][1]||n[1][0]===e[0][0]&&n[1][1]===e[0][1]&&n[0][0]===e[1][0]&&n[0][1]===e[1][1];var n,e}))&&d.push(r)};for(r.s();!(t=r.n()).done;)e()}catch(t){r.e(t)}finally{r.f()}},g=0,b=h;g<b.length;g++)m();for(var w=function(){var t=N[A];o=o.filter((function(n){return n!==t}))},A=0,N=h;A<N.length;A++)w();for(var M=0,x=d;M<x.length;M++){var S=x[M],k=new E(S[0],S[1],s);o.push(k)}}}catch(t){u.e(t)}finally{u.f()}var I,j=l(o);try{var P=function(){var t=I.value;t.points.some((function(t){return e.points.includes(t)}))&&(o=o.filter((function(n){return n!==t})))};for(j.s();!(I=j.n()).done;)P()}catch(t){j.e(t)}finally{j.f()}return o};new p5((function(t){var n=P,o=Array(P.length).fill(0).map((function(t){return n=e(0,360)*(Math.PI/180),{unit:{x:Math.cos(n),y:Math.sin(n)},magnitude:e(1,N)/10};var n})),i=O(P,k),a=null;t.setup=function(){t.createCanvas(m,g),t.frameRate(60)},t.draw=function(){t.background(0),i=O(P,k),t.noFill(),t.stroke("red"),A&&function(){for(var t=0;t<P.length;t++){var n=P[t][0]+o[t].unit.x*o[t].magnitude,r=P[t][1]+o[t].unit.y*o[t].magnitude;(n<k[0][0]||n>k[3][0])&&(o[t].unit.x=-o[t].unit.x,n=P[t][0]+o[t].unit.x*o[t].magnitude),(r<k[0][1]||r>k[2][1])&&(o[t].unit.y=-o[t].unit.y,r=P[t][1]+o[t].unit.y*o[t].magnitude),P[t]=[n,r]}}(),t.strokeWeight(1),M||t.noFill();var r,e=l(i);try{for(e.s();!(r=e.n()).done;){var a=r.value;t.stroke.apply(t,y(a.color)),M&&t.fill.apply(t,y(a.color)),t.triangle.apply(t,y(a.a).concat(y(a.b),y(a.c)))}}catch(t){e.e(t)}finally{e.f()}if(w){t.strokeWeight(8),t.stroke("black");var c,f=l(n);try{for(f.s();!(c=f.n()).done;){var s=u(c.value,2),h=s[0],v=s[1];t.point(h,v)}}catch(t){f.e(t)}finally{f.f()}}},t.mousePressed=function(){for(var n=0;n<P.length;n++){var e=u(P[n],2),o=e[0],i=e[1];r([t.mouseX,t.mouseY],[o,i])<20&&(a=n)}},t.mouseDragged=function(){var n=u(P[a],2),e=n[0],o=n[1];r([t.mouseX,t.mouseY],[e,o])<20&&(P[a]=[t.mouseX,t.mouseY])}}),"canvas")})();
//# sourceMappingURL=index.a622c490c72e5da1df1c.js.map
